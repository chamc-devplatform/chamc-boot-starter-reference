# 流程管理控制台

在流程控制台可以完成流程模型管理、流程跟踪、待办已办管理及系统设置等，使用时需要注意右上角的**租户**切换。

**注意**：
1. 原则上一个业务系统对应一个租户，新业务系统对接时，先联系管理员进行租户新建，不要在控制台进行操作。
2. 新建租户时需要提供租户标识及租户名，示例：租户标识bpm-api，租户名：工作流平台
3. 租户标识以小写字母及中划线组成，如bpm-api，如果注册到注册中心，尽量保证租户标识与注册中心的application.name相同

**租户申请流程**：    
1. 首先确认系统标识，以小写字母加中划线命名，如bpm-api；  
2. 在“服务管理系统”中申请对应环境token，如有疑问可联系唐红石；   
3. 发邮件给工作流管理员宗颍风，并抄送元明河，张光伟以及项目经理；   
4. 邮件标题：XX业务系统申请XX环境新建租户，内容包括：租户标识(与token中系统标识一致)以及租户名（即系统名），并标注是否需要对接KMS；   
5. 配置文件中请将spring.application.name配置为申请token时写的系统标识。 

## 自定义按钮配置

功能：维护按钮类型及别名等，在此处编辑保存的按钮，会在流程设计器中选择任务节点功能的时候勾选用到。最终会通过接口返回给调用者。

功能路径：工作流管理 -> 自定义按钮配置

可以新增按钮，也可以修改已有按钮的信息，如果同一种类型的按钮需要有多个别名的时候，在修改页面中编辑按钮别名即可，多个别名用英文的逗号隔开。原则上同一种类型的按钮不新建按钮，只根据需要修改/新增别名。

## 流程跟踪管理

功能路径：工作流管理 -> 路程跟踪管理

流程跟踪功能能够对流程实例进行干预，包括挂起、回复、任务跳转干预、审批维护及终止等。

挂起的流程，待办查询不到，可以通过点击恢复让流程回到正常状态。

任务干预能够进行任务节点的跳转，干预必须发生节点的跳转，且需要指定处理人为某个用户。无法只修改办理人不跳转节点。会签节点不支持进行任务干预，且无法在后台干预到会签节点。

![流程跟踪](https://upload-images.jianshu.io/upload_images/8400233-0de6800a44154e43.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

选中一行数据后点击审批维护按钮，可查看该流程的流转明细及流程图示。

## 角色管理

功能路径：系统设置 -> 系统设置 -> 角色管理

可以对角色进行管理，包括角色信息查看。角色信息维护以及角色-人员维护请通过chamc模式下的角色同步服务iSyncRoleService进行维护。

在角色管理下，勾选角色，点击分配可以看到角色下对应的用户，如下图所示。

![角色管理](https://upload-images.jianshu.io/upload_images/8400233-808973052d946aac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 流程分类管理

功能路径： 工作流管理->流程分类管理

可以新增、删除、修改流程分类。每个租户下可以存在多个流程分类，发起流程时可以按此类别进行发起。

流程分类可以修改启用状态，如果设置为不可用，则发起流程时不可以新建该流程分类的流程，但是分类下当前正在流转的流程可以正常流转。
![流程分类管理](https://upload-images.jianshu.io/upload_images/8400233-ae2570b6e783335e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
